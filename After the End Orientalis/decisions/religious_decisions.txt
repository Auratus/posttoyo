decisions = {

	restore_cao_dai_pope_in_tay_ninh = {
		only_independent = yes
		is_high_prio = yes
		ai_check_interval = 36
		
		potential = {
			is_playable = yes
			independent = yes
			has_dlc = "Sons of Abraham"
			NOT = {
				has_alternate_start_parameter = { key = religion_names value = random }
			}
			religion = cao_dai
			
			controls_religion = no
			
			c_tay_ninh = {
				holder_scope = {
					OR = {
						character = ROOT
						is_liege_or_above = ROOT
					}
					AND = {
						ROOT = { religion = cao_dai }
						d_cao_dai_papacy = {
							holder_scope = {
								NOT = { character = PREVPREV }
								NOT = { is_vassal_or_below = PREVPREV }
							}
						}
					}
				}
			}
		}
		
		effect = {		
			if = {
				limit = {
					religion = cao_dai
				}
				d_cao_dai_papacy = {
					holder_scope = {
						c_tay_ninh = {
							grant_title = PREV
							any_de_jure_vassal_title = {
								limit = {
									holder_scope = { 
										OR = {
											character = ROOT
											is_liege_or_above = ROOT
										}
									}
								}
								grant_title = PREVPREV
							}
						}
					}
				}
			}
			if = {
				limit = {
					religion = cao_dai
					NOT = { has_character_flag = restored_cao_dai_pope_in_tay_ninh }
				}
				d_cao_dai_papacy = {
					holder_scope = {
						opinion = {
							who = ROOT
							modifier = opinion_restored_to_tay_ninh
						}
					}
				}
				piety = 1000
				set_character_flag = restored_cao_dai_pope_in_tay_ninh
			}
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NOT = {
					any_demesne_province = {
						NOT = { province_id = 183 }
					}
				}
			}
			modifier = {
				factor = 0
				c_tay_ninh = {
					holder_scope = {
						OR = {
							ai = no
							any_liege = { ai = no }  # AI will never take Tay Ninh province away from a player
						}
					}
				}
			}
		}
	}
}